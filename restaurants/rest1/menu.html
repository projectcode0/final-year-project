<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Menu</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Common Responsive CSS (loaded dynamically through dynamic-js-loader.js) -->
    <script>
        const isGitHubPages = window.location.href.includes("github.io");
        const basePath = isGitHubPages ? "/final-year-project" : "../..";

        // Dynamically load the dynamic-js-loader.js for loading common-responsive.css
        const loaderScript = document.createElement("script");
        loaderScript.src = `${basePath}/dynamic-js-loader.js`;
        loaderScript.defer = true;
        document.head.appendChild(loaderScript);
    </script>



<!-- Menu CSS -->
<link rel="stylesheet" href="../../restaurants/menu.css"> <!-- Directly linking menu.css -->

<!-- Menu JS -->
    <script src="../../restaurants/menu.js" defer></script> <!-- Directly linking menu.js -->
</head>
<body>

    <!-- Navbar will be dynamically loaded -->
    <div id="navbarContainer"></div>

    <!-- Content Section -->
    <div class="container mt-5">
        <h1>Restaurant Menu</h1>

        <div id="menu-items" class="row">
            <!-- Dynamic menu items will be rendered here -->
        </div>

        <!-- Cart Section -->
        <div id="cart" class="mt-4">
            <h2>Your Cart</h2>
            <ul id="cart-items">
                <!-- Cart items will appear here -->
            </ul>
            <button id="checkout-btn" class="btn btn-primary" disabled>Proceed to Checkout</button>
        </div>
    </div>
    
    <!-- Navbar script loading from customer side -->
    <script>
        const navbarLinkScript = document.createElement("script");
        navbarLinkScript.src = `${basePath}/customers/navbar-link.js`;  // Correct path to navbar-link.js
        navbarLinkScript.defer = true;

        // Event listener for when navbarLinkScript finishes loading
        navbarLinkScript.onload = () => {
            console.log("Navbar script has been loaded successfully.");
        };

        // Handle script error
        navbarLinkScript.onerror = () => {
            console.error("Failed to load navbar script.");
        };

        // Append the script to load the navbar dynamically
        document.body.appendChild(navbarLinkScript);
    
    </script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
